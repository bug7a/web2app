let waitingView;const prepareApp=function(){page.fit(settings.USED_WIDTH,settings.MAX_ZOOMABLE_WIDTH),launchView.create({backgroundColor:settings.launchViewBackgroundColor}),app.getSafeAreaOuterSpaces((function(){var t={width:settings.USED_WIDTH,topOuterSpace:app.safeAreaInsetTop,bottomOuterSpace:app.safeAreaInsetBottom,backgroundColor:"transparent",outerBackgroundColor:"white",statusBarBackgroundColor:"rgba(0, 0, 0, 0.05)"};safeArea.create(t),setDefaultContainerBox(safeArea.getContainerBox()),launchView.showOnSafeArea(),startApp()}))},startApp=function(){loadGlobal(),safeArea.setBackgroundColor("transparent"),safeArea.setOuterBackgroundColor("white"),safeArea.setStatusBarBackgroundColor("rgba(0, 0, 0, 0.0)"),defaultView.create({backgroundColor:"white",scrollY:1,showWithMotion:0}),topBar.create({height:105,showWithMotion:0}),topBar.menuButton.onClick(showSideBar),bottomBar.create({height:settings.bottomBar_height,showSelectedText:settings.bottomBar_showSelectedText,highLightColor:settings.bottomBar_iconHighlightColor,reverseColorOfSelectedIcon:settings.bottomBar_reverseColorOfSelectedIcon,normalIconSpace:16,selectedIconSpace:16}),bottomBar.createItemsByDataList(settings.getBottomBarItemDataList()),bottomBar.onItemClick(settings.openPageById);for(var t=0;t<settings.getBottomBarItemDataList().length;t++)bottomBar["tasksUIBudge"+t]=bottomBar.createBudgeOnItem({itemIndex:t}),that.setValue(0),that.setColor(settings.BudgetBackgroundColor);updateBottomBarTasksUIBudge(),secondView.create({backgroundColor:"white",scrollY:1,showWithMotion:1}),smallView.create({height:500,backgroundColor:"white",coverColor:"rgba(0, 0, 0, 0.4)",topRound:13,scrollY:0,showWithMotion:1}),sideBar.create(),sideBar.setTitle(settings.sideBarTitle),sideBar.createItemsByDataList(settings.getSideMenuBarItemDataList()),sideBar.selectItemByIndex(0),sideBar.onSelectionChange(settings.openPageById),loginView.create(),sideBar.lockScreenButton.onClick(lockScreen),waitingView=WaitingView({waitingIconFile:"components/ui-waiting-view/clock.png",coverBackgroundColor:"rgba(0, 0, 0, 0.4)"}),settings.startAtThisPage(),launchView.remove()},showSideBar=function(){sideBar.setVisible(1)},lockScreen=function(){sideBar.setVisible(0),loginView.show()};window.updateBottomBarTasksUIBudge=function(t){const e=settings.page4BudgeIndex;bottomBar["tasksUIBudge"+e]&&bottomBar["tasksUIBudge"+e].setValue(t||(storage.load("todoApp-taskDataList")?storage.load("todoApp-taskDataList").length:0))},app.onDeviceReady(prepareApp);